<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="{% static 'prodstyles.css' %}">
    <title>Product Showcase</title>
</head>

<body>
    <header>
        <div class="RRlogo">EcoFinds</div>
        <button class="RRbuy-now-button">&#128722; Buy now</button>
    </header>
    <main>
        <div class="RRfilter-section">
            <select id="RRcategorySelect" onchange="RRfilterProducts()">
                <option value="all">All Products</option>
                {% for category in categories %}
                    <option value="{{ category.name|slugify }}">{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>
        <section class="RRproduct-section">
            <div class="RRcontainer RRcategory">
                {% for product in products %}
                    <div class="RRcard" data-category="{{ product.category.name|slugify }}">
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" style="height:200px; width:100%; object-fit:cover;">
<!--                        <button class="wishlist" aria-label="Add to wishlist">-->
<!--                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart">-->
<!--                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>-->
<!--                            </svg>-->
<!--                        </button>-->
                        <div class="info">
                            <h3 class="name">{{ product.name }}</h3>
                            <p class="price">${{ product.price }}</p>
                            <div class="additional-info">
                                <span class="carbon-emission">Carbon: {{ product.carbon_emission }}% CO2</span> |
                                <span class="environmental-impact" title="Click for more info">Environmental Impact</span>
                                <div class="impact-info hidden">{{ product.environmental_impact|default:"No data available" }}</div><br>
                                <span class="quantity-info">QTY: {{ product.quantity|default:"N/A" }}</span>
                            </div>
<!--                            <button class="add-to-cart">Add to Cart</button>-->
                            <form action="{% url 'add_to_cart' product.id %}" method="post">
                                {% csrf_token %}
                                <button type="submit">Add to Cart</button>
                            </form>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </section>
    </main>
    <script>
        const aboutusUrl = "{% url 'cart' %}";
    </script>
    <script src="{% static 'prod.js' %}"></script>
</body>

</html>
